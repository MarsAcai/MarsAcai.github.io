<!DOCTYPE html>
<html>
<head>
  <title>Image Viewer</title>
  <style>
    img {
      max-width: 100%;
      height: auto;
    }

  .button {
      font-size: 24px;
      padding: 10px;
      background-color: #272727;
      color: #ffffff;
      border: none;
      outline: none;
    }

    .button:hover {
      background-color: #666666;
      cursor: pointer;
    }

  </style>
</head>
<body>
  <div>
    <button id="prevBtn" class="button prevBtn">&#8592;</button>
    <img id="imageDisplay" src="" alt="Displayed Image">
    <button id="nextBtn" class="button nextBtn">&#8594;</button>
  </div>

  <script>
    // Array of image URLs
    const imageUrls = [
      "3DTest/3D1.png",
      "3DTest/3D2.png",
      "3DTest/3D3.png",
      "3DTest/3D4.png",
      "3DTest/3D5.png",
      "3DTest/3D6.png",
      "3DTest/3D7.png",
      "3DTest/3D8.png",
      "3DTest/3D9.png",
      "3DTest/3D10.png",
    ];

    // Current index of the displayed image
    let currentIndex = 0;
    let intervalId = null;
    let delayTimeoutId = null;
    let isHolding = false;

    // Display the image at the current index
    function displayImage() {
      const imageDisplay = document.getElementById("imageDisplay");
      imageDisplay.src = imageUrls[currentIndex];
    }

    // Function to switch to the next image
    function switchToNextImage() {
      currentIndex++;
      if (currentIndex >= imageUrls.length) {
        currentIndex = 0;
      }
      displayImage();
    }

    // Function to switch to the previous image
    function switchToPrevImage() {
      currentIndex--;
      if (currentIndex < 0) {
        currentIndex = imageUrls.length - 1;
      }
      displayImage();
    }

    // Function to start continuous image switching
    function startContinuousSwitching(isNext) {
      if (!isHolding) {
        isHolding = true;
        switchImage(isNext);
        delayTimeoutId = setTimeout(function() {
          intervalId = setInterval(function() {
            switchImage(isNext);
          }, 200);
        }, 500);
      }
    }

    // Function to stop continuous image switching
    function stopContinuousSwitching() {
      if (isHolding) {
        clearTimeout(delayTimeoutId);
        clearInterval(intervalId);
        isHolding = false;
      }
    }

    // Function to switch images based on direction
    function switchImage(isNext) {
      if (isNext) {
        switchToNextImage();
      } else {
        switchToPrevImage();
      }
    }

   // Event listener for the previous button
const prevBtn = document.getElementById("prevBtn");
prevBtn.addEventListener("mousedown", function() {
  startContinuousSwitching(false);
});
prevBtn.addEventListener("mouseenter", function() {
  if (isHolding) {
    prevBtn.style.backgroundColor = "#666666";
  }
});
prevBtn.addEventListener("mouseleave", function() {
  if (isHolding) {
    prevBtn.style.backgroundColor = "#272727";
  }
});

// Event listener for the next button
const nextBtn = document.getElementById("nextBtn");
nextBtn.addEventListener("mousedown", function() {
  startContinuousSwitching(true);
});
nextBtn.addEventListener("mouseenter", function() {
  if (isHolding) {
    nextBtn.style.backgroundColor = "#666666";
  }
});
nextBtn.addEventListener("mouseleave", function() {
  if (isHolding) {
    nextBtn.style.backgroundColor = "#272727";
  }
});

    // Event listener to stop continuous image switching when the mouse button is released
    document.addEventListener("mouseup", stopContinuousSwitching);

    // Event listener for arrow key presses
    document.addEventListener("keydown", function(event) {
      if (event.key === "ArrowLeft") {
        startContinuousSwitching(false);
      } else if (event.key === "ArrowRight") {
        startContinuousSwitching(true);
      }
    });

    // Event listener for arrow key releases
    document.addEventListener("keyup", function(event) {
      if (event.key === "ArrowLeft" || event.key === "ArrowRight") {
        stopContinuousSwitching();
      }
    });
    
    // Event listener for the previous button
const prevBtn = document.getElementById("prevBtn");
prevBtn.addEventListener("mousedown", function() {
  startContinuousSwitching(false);
});
prevBtn.addEventListener("mouseover", function() {
  if (isHolding) {
    prevBtn.style.backgroundColor = "#666666";
  }
});
prevBtn.addEventListener("mouseout", function() {
  if (isHolding) {
    prevBtn.style.backgroundColor = "#272727";
  }
});

// Event listener for the next button
const nextBtn = document.getElementById("nextBtn");
nextBtn.addEventListener("mousedown", function() {
  startContinuousSwitching(true);
});
nextBtn.addEventListener("mouseover", function() {
  if (isHolding) {
    nextBtn.style.backgroundColor = "#666666";
  }
});
nextBtn.addEventListener("mouseout", function() {
  if (isHolding) {
    nextBtn.style.backgroundColor = "#272727";
  }
});

// Event listener to stop continuous image switching when the mouse button is released
document.addEventListener("mouseup", function() {
  prevBtn.style.backgroundColor = "#272727";
  nextBtn.style.backgroundColor = "#272727";
  stopContinuousSwitching();
});

// Event listener for arrow key presses
document.addEventListener("keydown", function(event) {
  if (event.key === "ArrowLeft") {
    startContinuousSwitching(false);
    prevBtn.style.backgroundColor = "#666666";
  } else if (event.key === "ArrowRight") {
    startContinuousSwitching(true);
    nextBtn.style.backgroundColor = "#666666";
  }
});

// Event listener for arrow key releases
document.addEventListener("keyup", function(event) {
  if (event.key === "ArrowLeft") {
    prevBtn.style.backgroundColor = "#272727";
  } else if (event.key === "ArrowRight") {
    nextBtn.style.backgroundColor = "#272727";
  }
  if (event.key === "ArrowLeft" || event.key === "ArrowRight") {
    stopContinuousSwitching();
  }
});

    // Initial display of the first image
    displayImage();
  </script>
  
  
</body>
</html>
